<h1>Formulario Validado</h1>

<form [formGroup]="miFormularioValidado" (submit)="enviarFormulario()">

  <h1>Formulario Validado!!</h1>

  <h3>Datos en Vivo del Formulario</h3>
  <p>{{miFormularioValidado.value | json }}</p>

  <!-- Campos de formulario + mensajes de validacion-->
  <p>
    <mat-form-field appearance="fill">
      <mat-label>Nombres :</mat-label>
      <input matInput placeholder="nombre" formControlName="nombre"/>

      <mat-icon matSuffix>satisfied</mat-icon>
      <mat-hint>Hint</mat-hint>
    </mat-form-field>



  </p>

  <div *ngif="nombre?.errors?.requerid && nombre?.touched">
    <p [ngStyle]="{color: 'tomato'}">El campo es obligatorio</p>
  </div>


  <p>
    <mat-form-field appearance="fill">
      <mat-label>Apellidos :</mat-label>
      <input matInput placeholder="apellidos" formControlName="apellidos"/>
      <mat-icon matSuffix>satisfied</mat-icon>
      <mat-hint>Hint</mat-hint>

    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="fill">
      <mat-label>Edad :</mat-label>
      <input matInput type="number" placeholder="edad" formControlName="edad"/>
      <mat-icon matSuffix>satisfied</mat-icon>
      <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>

  <div *ngIf="edad?.errors?.['requerid'] && edad?.touched">
      <p [ngStyle]="{color: 'tomato'}">El campo es obligatorio</p>
  </div>
  <div *ngIf="edad?.errors?.['min'] && edad?.touched">
    <p [ngStyle]="{color: 'tomato'}">El campo edad no puede ser inferior a 18..No puedes registrarte</p>
  </div>
  <div *ngIf="edad?.errors?.['max'] && edad?.touched">
    <p [ngStyle]="{color: 'tomato'}">El campo edad no puede ser mayor a 95</p>
  </div>

  <!-- Email-->

  <p>
     <mat-form-field appearance="fill">
       <mat-label>Email :</mat-label>
       <input matInput type="email" placeholder="notiene@notiene.com" formControlName="email"/>
       <mat-icon matSuffix>satisfied</mat-icon>
       <mat-hint>Hint</mat-hint>
     </mat-form-field>
  </p>



  <div *ngIf="email?.errors?.['required'] && email?.touched">
    <p [ngStyle]="{color: 'tomato'}">El campo email es obligatorio</p>
  </div>

  <!-- Password-->

  <p>
    <mat-form-field appearance="fill">
       <mat-label>Password :</mat-label>
       <input matInput type="password" placeholder="password" formControlName="password"/>
       <mat-icon matSuffix>satisfied</mat-icon>
       <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>
  <div *ngIf="password?.errors?.['requerid'] && password?.touched">
     <p [ngStyle]="{color: 'tomato'}">El campo es obligatorio</p>
  </div>

  <!-- Fecha de ingreso -->
  <p>
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Choose a date</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="fecha_form">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matIconSuffix [for]="picker">
        <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
      </mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </p>

  <div *ngIf="fecha_form?.errors?.['required'] && fecha_form?.touched">
      <p [ngStyle]="{color: 'tomato'}">La fecha es obligatoria</p>
  </div>


  <!-- Fin fecha de ingreso -->

  <!-- Acepta-->

  <section class="example-section" [formGroup]="miFormularioValidado">
    <h4>Select your terms:</h4>
    <p><mat-checkbox formControlName="acepta">Requerido?</mat-checkbox></p>

  </section>

  <!-- Fin Acepta-->

  <div *ngIf="acepta?.errors?.['requerid'] && acepta?.touched">
    <p [ngStyle]="{color: 'tomato'}">Debes aceptar los terminos</p>
  </div>



  <!-- Boton submit que se activa cuando el formulario es valido-->
  <button type="submit" [disabled]="miFormularioValidado.invalid">Enviar</button>
</form>

<mat-toolbar class="barra_ventana">
  <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon">
    <mat-icon matIconSuffix></mat-icon>
  </button>
  <span>My App</span>
  <span class="example-spacer"></span>
  <button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
    <mat-icon matIconSuffix>fav</mat-icon>
  </button>
  <button mat-icon-button class="example-icon" aria-label="Example icon-button with share icon">
    <mat-icon matIconSuffix>share</mat-icon>
  </button>
</mat-toolbar>
